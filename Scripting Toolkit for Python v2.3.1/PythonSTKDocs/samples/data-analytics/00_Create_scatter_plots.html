

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Create scatter plots &mdash; MI Scripting Toolkit for Python 2.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/Materials.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Compare datasets graphically" href="01_Compare_datasets_graphically.html" />
    <link rel="prev" title="Data Analytics Examples" href="../../data_analytics.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/Materials-STK.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">What’s new in Version 2.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrading.html">Upgrading from earlier versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stream_example.html">Streamlined API Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stream_api.html">Streamlined API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation_example.html">Foundation API Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GRANTA_MIScriptingToolkit.html">Foundation API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../data_analytics.html">Data Analytics Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create scatter plots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Get-data-from-Granta-MI">Get data from Granta MI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Process-the-data-using-pandas">Process the data using <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Build-a-DataFrame">Build a DataFrame</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Process-any-range-data">Process any range data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Process-any-discrete-or-short-text-data">Process any discrete or short text data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Specify-column-units">Specify column units</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Create-scatter-plots-using-pandas">Create scatter plots using <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#Create-scatter-plots-with-matplotlib">Create scatter plots with <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Plotting-data-by-category-(discrete-values)">Plotting data by category (discrete values)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Creating-a-3D-scatter-plot">Creating a 3D scatter plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Adding-a-continuous-color-axis-to-a-2D-scatter-plot">Adding a continuous color axis to a 2D scatter plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Plotting-data-by-category-(binned-point-or-range-values)">Plotting data by category (binned point or range values)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Create-scatter-plots-with-seaborn">Create scatter plots with <code class="docutils literal notranslate"><span class="pre">seaborn</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Plotting-in-n-dimensions-(pair-plots)">Plotting in <em>n</em> dimensions (pair plots)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="01_Compare_datasets_graphically.html">Compare datasets graphically</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_Plot_data_by_category.html">Plot data by category</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_Fit_series_data_and_import.html">Fit series data and import fit results</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_Process_datasets_and_import.html">Process datasets and import results into Granta MI</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_Find_area_under_a_curve.html">Find the area under a curve</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_Calculate_statistics_for_records.html">Calculate statistics for a set of records</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_Calculate_statistics_for_functional_attributes.html">Calculate statistics for functional data attributes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../log_files.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright and Trademark Information</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MI Scripting Toolkit for Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../data_analytics.html">Data Analytics Examples</a> &raquo;</li>
        
      <li>Create scatter plots</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<a href="../../samples\data-analytics\00_Create_scatter_plots.ipynb" id='example' type="application/octet-stream" download>
View the .ipynb file.
</a><hr class="docutils" />
<div class="section" id="Create-scatter-plots">
<h1>Create scatter plots<a class="headerlink" href="#Create-scatter-plots" title="Permalink to this headline">¶</a></h1>
<p>Export multiple attributes from a table and use the <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> and <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> packages to compare material properties using 2D, 3D, and 4D scatter plots.</p>
<p>This example uses data from the <em>MaterialUniverse</em> table in the <em>MI Training</em> database.</p>
<div class="section" id="Get-data-from-Granta-MI">
<h2>Get data from Granta MI<a class="headerlink" href="#Get-data-from-Granta-MI" title="Permalink to this headline">¶</a></h2>
<p>Connect to MI and specify a database and table.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">GRANTA_MIScriptingToolkit</span> <span class="kn">import</span> <span class="n">granta</span> <span class="k">as</span> <span class="n">mi</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">mi</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">autologon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">training_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_db</span><span class="p">(</span><span class="s1">&#39;MI Training&#39;</span><span class="p">)</span>
<span class="n">training_db</span><span class="o">.</span><span class="n">set_unit_system</span><span class="p">(</span><span class="s1">&#39;SI (Consistent)&#39;</span><span class="p">)</span>
<span class="n">material_universe</span> <span class="o">=</span> <span class="n">training_db</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;MaterialUniverse&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Specify the records whose attributes you want to plot. In this case, all records in the table are used, but you can use other MI Scripting Toolkit methods to define a list of records (for example, <code class="docutils literal notranslate"><span class="pre">search_criterion()</span></code>).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">records</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">all_records</span><span class="p">(</span><span class="n">include_generics</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_folders</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Bulk export the attributes you want to plot. (The attribute names are stored in a list for later use.)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Designation&#39;</span><span class="p">,</span> <span class="s1">&#39;Base&#39;</span><span class="p">,</span> <span class="s1">&#39;Transparency&#39;</span><span class="p">,</span> <span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span> <span class="s1">&#39;Density&#39;</span><span class="p">,</span> <span class="s1">&#39;Tensile strength&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]</span>
<span class="n">material_universe</span><span class="o">.</span><span class="n">bulk_fetch</span><span class="p">(</span><span class="n">records</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Process-the-data-using-pandas">
<h2>Process the data using <code class="docutils literal notranslate"><span class="pre">pandas</span></code><a class="headerlink" href="#Process-the-data-using-pandas" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Build-a-DataFrame">
<h3>Build a DataFrame<a class="headerlink" href="#Build-a-DataFrame" title="Permalink to this headline">¶</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">pandas</span></code> DataFrame can be built from a <code class="docutils literal notranslate"><span class="pre">List</span></code> of <code class="docutils literal notranslate"><span class="pre">Dicts</span></code>, where each dictionary in the list corresponds to a separate row in the DataFrame. Each key-value pair in the <code class="docutils literal notranslate"><span class="pre">Dict</span></code> corresponds to a column and the cell value in that column, respectively.</p>
<p>First generate the list of dictionaries, and then use this list to create a DataFrame. Here, we are using the <code class="docutils literal notranslate"><span class="pre">Record.id</span></code> property as the DataFrame index, but any column with a unique value for each record can be used.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">get_attr_vals</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">mi_attr</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="n">mi_attr</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">mi_attr</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">}</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="o">**</span><span class="n">get_attr_vals</span><span class="p">(</span><span class="n">r</span><span class="p">)}</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">records</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Use the DataFrame <code class="docutils literal notranslate"><span class="pre">.head()</span></code> method to output the first few rows of the DataFrame and check the structure.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Designation</th>
      <th>Base</th>
      <th>Transparency</th>
      <th>Young's modulus</th>
      <th>Density</th>
      <th>Tensile strength</th>
      <th>Electrical resistivity</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8925</th>
      <td>1720</td>
      <td>[Oxide]</td>
      <td>[Transparent]</td>
      <td>{'low': 84800000000.0, 'high': 89100000000.0}</td>
      <td>{'low': 2490.0, 'high': 2540.0}</td>
      <td>{'low': 39900001.525878906, 'high': 43900001.5...</td>
      <td>{'low': 999999977819630.9, 'high': 9.999999562...</td>
    </tr>
    <tr>
      <th>8926</th>
      <td>1723</td>
      <td>[Oxide]</td>
      <td>[Transparent]</td>
      <td>{'low': 83900000000.0, 'high': 88100000000.0}</td>
      <td>{'low': 2610.0, 'high': 2660.0}</td>
      <td>{'low': 37599998.474121094, 'high': 41400001.5...</td>
      <td>{'low': 999999977819630.9, 'high': 9.999999562...</td>
    </tr>
    <tr>
      <th>8927</th>
      <td>9617</td>
      <td>[Oxide]</td>
      <td>[Opaque]</td>
      <td>{'low': 84000000000.0, 'high': 88000000000.0}</td>
      <td>{'low': 2500.0, 'high': 2599.9999046325684}</td>
      <td>{'low': 37700000.76293945, 'high': 39599998.47...</td>
      <td>{'low': 99999997781963.08, 'high': 1.000000013...</td>
    </tr>
    <tr>
      <th>8928</th>
      <td>6750</td>
      <td>[Oxide]</td>
      <td>[Opaque]</td>
      <td>{'low': 57300000000.0, 'high': 75900000000.0}</td>
      <td>{'low': 2560.0, 'high': 2610.0}</td>
      <td>{'low': 25399999.618530273, 'high': 34000000.0}</td>
      <td>{'low': 99999997781963.08, 'high': 1.000000013...</td>
    </tr>
    <tr>
      <th>8930</th>
      <td>7059</td>
      <td>[Oxide]</td>
      <td>[Transparent]</td>
      <td>{'low': 66300003051.75781, 'high': 69699996948...</td>
      <td>{'low': 2730.0000190734863, 'high': 2779.99997...</td>
      <td>{'low': 29500000.0, 'high': 31100000.381469727}</td>
      <td>{'low': 99999997781963.08, 'high': 1.000000013...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Process-any-range-data">
<h3>Process any range data<a class="headerlink" href="#Process-any-range-data" title="Permalink to this headline">¶</a></h3>
<p>A DataFrame cell can contain any data type we choose to store in it. However, plotting packages such as <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> require numerical values to be in a standard format. Some MI Scripting Toolkit data types, such as ranges represented as dictionaries, are not in that format and have to be processed before plotting.</p>
<p>Below, we define a <code class="docutils literal notranslate"><span class="pre">granta_mean</span></code> function which takes a single <code class="docutils literal notranslate"><span class="pre">dict</span></code> as input and calculates either the arithmetic or geometric mean (depending on the signs of the input values).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">granta_mean</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="s1">&#39;high&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span><span class="p">[</span><span class="s1">&#39;low&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s1">&#39;low&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span><span class="p">[</span><span class="s1">&#39;high&#39;</span><span class="p">]</span>
    <span class="n">product</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s1">&#39;low&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">value</span><span class="p">[</span><span class="s1">&#39;high&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">product</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">gm</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="s1">&#39;low&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">gm</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="n">gm</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<p>Apply the <code class="docutils literal notranslate"><span class="pre">granta_mean</span></code> function to each cell in the <em>Density</em>, <em>Young’s modulus</em>, <em>Tensile strength</em>, and <em>Electrical resistivity</em> columns. Store the results in a new DataFrame, and check the output to ensure the data processing worked as expected.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_processed</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Density&#39;</span><span class="p">,</span> <span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span> <span class="s1">&#39;Tensile strength&#39;</span><span class="p">,</span> <span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">granta_mean</span><span class="p">)</span>
<span class="n">df_processed</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Density</th>
      <th>Young's modulus</th>
      <th>Tensile strength</th>
      <th>Electrical resistivity</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8925</th>
      <td>2514.875742</td>
      <td>8.692341e+10</td>
      <td>4.185224e+07</td>
      <td>1.000000e+16</td>
    </tr>
    <tr>
      <th>8926</th>
      <td>2634.881402</td>
      <td>8.597436e+10</td>
      <td>3.945428e+07</td>
      <td>1.000000e+16</td>
    </tr>
    <tr>
      <th>8927</th>
      <td>2549.509710</td>
      <td>8.597674e+10</td>
      <td>3.863832e+07</td>
      <td>1.000000e+15</td>
    </tr>
    <tr>
      <th>8928</th>
      <td>2584.879107</td>
      <td>6.594748e+10</td>
      <td>2.938707e+07</td>
      <td>1.000000e+15</td>
    </tr>
    <tr>
      <th>8930</th>
      <td>2754.886563</td>
      <td>6.797875e+10</td>
      <td>3.028944e+07</td>
      <td>1.000000e+15</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Since the columns now contain numeric data, we can use the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method to provide some initial insights into the distribution of values in the table. (This also confirms that the <code class="docutils literal notranslate"><span class="pre">granta_mean</span></code> function worked as expected.)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_processed</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Density</th>
      <th>Young's modulus</th>
      <th>Tensile strength</th>
      <th>Electrical resistivity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>29.000000</td>
      <td>2.900000e+01</td>
      <td>2.900000e+01</td>
      <td>2.900000e+01</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3056.118133</td>
      <td>7.441616e+10</td>
      <td>3.107848e+08</td>
      <td>2.184037e+15</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3201.106148</td>
      <td>1.256091e+11</td>
      <td>4.631297e+08</td>
      <td>4.056391e+15</td>
    </tr>
    <tr>
      <th>min</th>
      <td>922.225549</td>
      <td>7.509658e+05</td>
      <td>8.289964e+06</td>
      <td>4.298837e-08</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1184.905061</td>
      <td>2.408319e+09</td>
      <td>3.863832e+07</td>
      <td>1.689970e-06</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1369.963508</td>
      <td>1.308128e+10</td>
      <td>6.816744e+07</td>
      <td>4.000000e+13</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2799.839234</td>
      <td>8.692341e+10</td>
      <td>4.446234e+08</td>
      <td>1.000000e+15</td>
    </tr>
    <tr>
      <th>max</th>
      <td>15597.115118</td>
      <td>6.340347e+11</td>
      <td>1.775671e+09</td>
      <td>1.000000e+16</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Process-any-discrete-or-short-text-data">
<h3>Process any discrete or short text data<a class="headerlink" href="#Process-any-discrete-or-short-text-data" title="Permalink to this headline">¶</a></h3>
<p>The columns <em>Transparency</em> and <em>Base</em> are based on discrete attributes, and so contain a list of values. In this case, the discrete attributes are single-valued, so the DataFrame cells contain a single-valued list.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">DataFrame.applymap()</span></code> method and a <code class="docutils literal notranslate"><span class="pre">lambda</span></code> function to take the first value from each list in the specified columns, and append them as new columns in the new DataFrame.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_processed</span><span class="p">[[</span><span class="s1">&#39;Transparency&#39;</span><span class="p">,</span> <span class="s1">&#39;Base&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Transparency&#39;</span><span class="p">,</span> <span class="s1">&#39;Base&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">df_processed</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Density</th>
      <th>Young's modulus</th>
      <th>Tensile strength</th>
      <th>Electrical resistivity</th>
      <th>Transparency</th>
      <th>Base</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8925</th>
      <td>2514.875742</td>
      <td>8.692341e+10</td>
      <td>4.185224e+07</td>
      <td>1.000000e+16</td>
      <td>Transparent</td>
      <td>Oxide</td>
    </tr>
    <tr>
      <th>8926</th>
      <td>2634.881402</td>
      <td>8.597436e+10</td>
      <td>3.945428e+07</td>
      <td>1.000000e+16</td>
      <td>Transparent</td>
      <td>Oxide</td>
    </tr>
    <tr>
      <th>8927</th>
      <td>2549.509710</td>
      <td>8.597674e+10</td>
      <td>3.863832e+07</td>
      <td>1.000000e+15</td>
      <td>Opaque</td>
      <td>Oxide</td>
    </tr>
    <tr>
      <th>8928</th>
      <td>2584.879107</td>
      <td>6.594748e+10</td>
      <td>2.938707e+07</td>
      <td>1.000000e+15</td>
      <td>Opaque</td>
      <td>Oxide</td>
    </tr>
    <tr>
      <th>8930</th>
      <td>2754.886563</td>
      <td>6.797875e+10</td>
      <td>3.028944e+07</td>
      <td>1.000000e+15</td>
      <td>Transparent</td>
      <td>Oxide</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Finally, the <em>Designation</em> column is based on a short-text attribute, which is represented as a string and can be used as is. Single columns with valid Python identifiers (for example, no spaces) can be accessed as if they are properties, but column creation always requires the use of square brackets.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Designation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Designation</span>
<span class="n">df_processed</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Density</th>
      <th>Young's modulus</th>
      <th>Tensile strength</th>
      <th>Electrical resistivity</th>
      <th>Transparency</th>
      <th>Base</th>
      <th>Designation</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8925</th>
      <td>2514.875742</td>
      <td>8.692341e+10</td>
      <td>4.185224e+07</td>
      <td>1.000000e+16</td>
      <td>Transparent</td>
      <td>Oxide</td>
      <td>1720</td>
    </tr>
    <tr>
      <th>8926</th>
      <td>2634.881402</td>
      <td>8.597436e+10</td>
      <td>3.945428e+07</td>
      <td>1.000000e+16</td>
      <td>Transparent</td>
      <td>Oxide</td>
      <td>1723</td>
    </tr>
    <tr>
      <th>8927</th>
      <td>2549.509710</td>
      <td>8.597674e+10</td>
      <td>3.863832e+07</td>
      <td>1.000000e+15</td>
      <td>Opaque</td>
      <td>Oxide</td>
      <td>9617</td>
    </tr>
    <tr>
      <th>8928</th>
      <td>2584.879107</td>
      <td>6.594748e+10</td>
      <td>2.938707e+07</td>
      <td>1.000000e+15</td>
      <td>Opaque</td>
      <td>Oxide</td>
      <td>6750</td>
    </tr>
    <tr>
      <th>8930</th>
      <td>2754.886563</td>
      <td>6.797875e+10</td>
      <td>3.028944e+07</td>
      <td>1.000000e+15</td>
      <td>Transparent</td>
      <td>Oxide</td>
      <td>7059</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Specify-column-units">
<h3>Specify column units<a class="headerlink" href="#Specify-column-units" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> doesn’t have a built-in method for specifying the units of a column. For this script, we will create a separate <code class="docutils literal notranslate"><span class="pre">dict</span></code> that provides a simple mapping between column headings and units.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">units</span> <span class="o">=</span> <span class="p">{</span><span class="n">mi_attr</span><span class="p">:</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="n">mi_attr</span><span class="p">]</span><span class="o">.</span><span class="n">unit</span> <span class="k">for</span> <span class="n">mi_attr</span> <span class="ow">in</span> <span class="n">attributes</span>
         <span class="k">if</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="n">mi_attr</span><span class="p">]</span><span class="o">.</span><span class="n">unit</span><span class="p">}</span>
<span class="n">units</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#34;Young&#39;s modulus&#34;: &#39;Pa&#39;,
 &#39;Density&#39;: &#39;kg/m^3&#39;,
 &#39;Tensile strength&#39;: &#39;Pa&#39;,
 &#39;Electrical resistivity&#39;: &#39;ohm.m&#39;}
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Create-scatter-plots-using-pandas">
<h2>Create scatter plots using <code class="docutils literal notranslate"><span class="pre">pandas</span></code><a class="headerlink" href="#Create-scatter-plots-using-pandas" title="Permalink to this headline">¶</a></h2>
<p>This snippet of code is optional, and is included to increase the size of all plots generated in this notebook:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.dpi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">125</span>
</pre></div>
</div>
</div>
<p>Use the built-in <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method to plot the data in your DataFrame.</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> uses <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> to generate plots. Text wrapped in \<span class="math notranslate nohighlight">\(dollar signs\\\)</span> is processed as LaTeX-style math text.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">density_unit</span> <span class="o">=</span> <span class="n">units</span><span class="p">[</span><span class="s1">&#39;Density&#39;</span><span class="p">]</span>
<span class="n">ym_unit</span> <span class="o">=</span> <span class="n">units</span><span class="p">[</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">]</span>
<span class="n">density_label</span> <span class="o">=</span> <span class="sa">rf</span><span class="s1">&#39;Density / $</span><span class="si">{</span><span class="n">density_unit</span><span class="si">}</span><span class="s1">$&#39;</span>
<span class="n">ym_label</span> <span class="o">=</span> <span class="sa">rf</span><span class="s1">&#39;$E$ / $</span><span class="si">{</span><span class="n">ym_unit</span><span class="si">}</span><span class="s1">$&#39;</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">df_processed</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Density&#39;</span><span class="p">,</span>
                      <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span>
                      <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span>
                      <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                      <span class="n">loglog</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                      <span class="n">xlabel</span><span class="o">=</span><span class="n">density_label</span><span class="p">,</span>
                      <span class="n">ylabel</span><span class="o">=</span><span class="n">ym_label</span><span class="p">,</span>
                      <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;E vs Density using DataFrame.plot()&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_33_0.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_33_0.png" />
</div>
</div>
</div>
<div class="section" id="Create-scatter-plots-with-matplotlib">
<h2>Create scatter plots with <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code><a class="headerlink" href="#Create-scatter-plots-with-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>Alternatively, you can use <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> directly with the DataFrame as an input. For comparison, here is the same plot using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. The result is the same, but the figure and axes are first created with <code class="docutils literal notranslate"><span class="pre">plt.subplots()</span></code>, the axis scales and labels modified, and then the <code class="docutils literal notranslate"><span class="pre">ax.scatter()</span></code> method is used to create the plot itself. Finally, the top-level <strong>plt</strong> object is used to add a title.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ym_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">density_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_processed</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Density&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;E vs Density using ax.scatter()&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_36_0.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_36_0.png" />
</div>
</div>
<div class="section" id="Plotting-data-by-category-(discrete-values)">
<h3>Plotting data by category (discrete values)<a class="headerlink" href="#Plotting-data-by-category-(discrete-values)" title="Permalink to this headline">¶</a></h3>
<p>Using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> directly allows us to use the full power and flexibility of the package. For example, you can create a plot color-coded by the value of a discrete attribute by iteratively adding scatter plots to the same set of axes.</p>
<p>The simplest way to implement this is to use the <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> DataFrame method, which generates a set of <strong>groupby</strong> objects. These behave like individual DataFrames, and can be plotted similarly to the previous example. <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> will automatically increment the marker color for each new plot.</p>
<p>In the example below, the full <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> is separated into separate <code class="docutils literal notranslate"><span class="pre">groupby</span></code> objects that share the same <em>Base</em> value. These <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> rows are each plotted on their own scatter plot with a separate color. The marker is incremented manually through a pre-defined list, which ensures accessibility for users with color vision deficiencies.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ym_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">density_label</span><span class="p">)</span>

<span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df_processed</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Base&#39;</span><span class="p">)):</span>
    <span class="n">marker</span> <span class="o">=</span> <span class="n">markers</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Density&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">marker</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;E vs Density grouped by Base (using matplotlib)&#39;</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Base&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_39_0.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_39_0.png" />
</div>
</div>
</div>
<div class="section" id="Creating-a-3D-scatter-plot">
<h3>Creating a 3D scatter plot<a class="headerlink" href="#Creating-a-3D-scatter-plot" title="Permalink to this headline">¶</a></h3>
<p>The set-up of a 3D scatter plot is slightly different to the 2D examples above, because the z-axis must be added as a subplot. Use <code class="docutils literal notranslate"><span class="pre">figure()</span></code> and <code class="docutils literal notranslate"><span class="pre">add_subplot(projection='3d')</span></code> to create a 3D figure, then use an alternative syntax to plot the data (in previous plots, the data was added using DataFrame column names, whereas this example plots the arrays themselves).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rho_unit</span> <span class="o">=</span> <span class="n">units</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]</span>
<span class="n">rho_label</span> <span class="o">=</span> <span class="sa">rf</span><span class="s1">&#39;$\rho$ / $</span><span class="si">{</span><span class="n">rho_unit</span><span class="si">}</span><span class="s1">$&#39;</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ym_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">density_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">rho_label</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Density&#39;</span><span class="p">],</span> <span class="n">df_processed</span><span class="p">[</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">],</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\rho$ vs E vs Density&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_42_0.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_42_0.png" />
</div>
</div>
</div>
<div class="section" id="Adding-a-continuous-color-axis-to-a-2D-scatter-plot">
<h3>Adding a continuous color axis to a 2D scatter plot<a class="headerlink" href="#Adding-a-continuous-color-axis-to-a-2D-scatter-plot" title="Permalink to this headline">¶</a></h3>
<p>Add a continuous color axis using the <code class="docutils literal notranslate"><span class="pre">c</span></code> and <code class="docutils literal notranslate"><span class="pre">cmap</span></code> arguments to the <code class="docutils literal notranslate"><span class="pre">plot.scatter()</span></code> constructor.</p>
<p>This example uses the optional <code class="docutils literal notranslate"><span class="pre">norm</span></code> argument to specify an alternative method of mapping numeric values to a color in the colormap. The <strong>color_norm</strong> variable contains a logarithmic normalization which ensures color variation is used across all values of electrical resistivity.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">viridis</span></code> colormap is perceptually uniform (monotonically increases in luminance) so is accessible to users with color vision deficiencies.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">matplotlib.colors</span> <span class="k">as</span> <span class="nn">colors</span>

<span class="n">rho_unit</span> <span class="o">=</span> <span class="n">units</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]</span>
<span class="n">rho_label</span> <span class="o">=</span> <span class="sa">rf</span><span class="s1">&#39;$\rho$ / $</span><span class="si">{</span><span class="n">rho_unit</span><span class="si">}</span><span class="s1">$&#39;</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ym_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">density_label</span><span class="p">)</span>

<span class="n">res_min</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">res_max</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">color_norm</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">LogNorm</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">res_min</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">res_max</span><span class="p">)</span>

<span class="n">sc</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_processed</span><span class="p">,</span>
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Density&#39;</span><span class="p">,</span>
                 <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span>
                 <span class="n">c</span><span class="o">=</span><span class="s2">&quot;Electrical resistivity&quot;</span><span class="p">,</span>
                 <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                 <span class="n">norm</span><span class="o">=</span><span class="n">color_norm</span><span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">rho_label</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;E vs Density and $\rho$ (continuous marker color)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_45_0.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_45_0.png" />
</div>
</div>
</div>
<div class="section" id="Plotting-data-by-category-(binned-point-or-range-values)">
<h3>Plotting data by category (binned point or range values)<a class="headerlink" href="#Plotting-data-by-category-(binned-point-or-range-values)" title="Permalink to this headline">¶</a></h3>
<p>For this plot, we first use <code class="docutils literal notranslate"><span class="pre">numpy.geomspace()</span></code> to define 5 logarithmically-spaced bins and <code class="docutils literal notranslate"><span class="pre">DataFrame.cut()</span></code> to map the continuous <em>Electrical resistivity</em> values to those categories.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">min_value</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">max_value</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

<span class="c1"># The number of values is calculated between the two values, and is one more than the required number of bins</span>
<span class="n">spacing</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="n">min_value</span><span class="p">,</span> <span class="n">max_value</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity (binned)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">],</span>
                                                         <span class="n">spacing</span><span class="p">,</span>
                                                         <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Very low&#39;</span><span class="p">,</span> <span class="s1">&#39;Low&#39;</span><span class="p">,</span> <span class="s1">&#39;Medium&#39;</span><span class="p">,</span> <span class="s1">&#39;High&#39;</span><span class="p">,</span> <span class="s1">&#39;Very high&#39;</span><span class="p">])</span>
<span class="n">df_processed</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Density</th>
      <th>Young's modulus</th>
      <th>Tensile strength</th>
      <th>Electrical resistivity</th>
      <th>Transparency</th>
      <th>Base</th>
      <th>Designation</th>
      <th>Electrical resistivity (binned)</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8925</th>
      <td>2514.875742</td>
      <td>8.692341e+10</td>
      <td>4.185224e+07</td>
      <td>1.000000e+16</td>
      <td>Transparent</td>
      <td>Oxide</td>
      <td>1720</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8926</th>
      <td>2634.881402</td>
      <td>8.597436e+10</td>
      <td>3.945428e+07</td>
      <td>1.000000e+16</td>
      <td>Transparent</td>
      <td>Oxide</td>
      <td>1723</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8927</th>
      <td>2549.509710</td>
      <td>8.597674e+10</td>
      <td>3.863832e+07</td>
      <td>1.000000e+15</td>
      <td>Opaque</td>
      <td>Oxide</td>
      <td>9617</td>
      <td>Very high</td>
    </tr>
    <tr>
      <th>8928</th>
      <td>2584.879107</td>
      <td>6.594748e+10</td>
      <td>2.938707e+07</td>
      <td>1.000000e+15</td>
      <td>Opaque</td>
      <td>Oxide</td>
      <td>6750</td>
      <td>Very high</td>
    </tr>
    <tr>
      <th>8930</th>
      <td>2754.886563</td>
      <td>6.797875e+10</td>
      <td>3.028944e+07</td>
      <td>1.000000e+15</td>
      <td>Transparent</td>
      <td>Oxide</td>
      <td>7059</td>
      <td>Very high</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Then, we can use <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> to plot each bin with a different color and shape of marker. A <code class="docutils literal notranslate"><span class="pre">cycler.cycler</span></code> object specifies which colors will be used for each separate scatter plot.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">cycler</span> <span class="kn">import</span> <span class="n">cycler</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ym_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">density_label</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_prop_cycle</span><span class="p">(</span><span class="n">cycler</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">]))</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df_processed</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Electrical resistivity (binned)&#39;</span><span class="p">)):</span>
    <span class="n">marker</span> <span class="o">=</span> <span class="n">markers</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Density&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">marker</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;E vs Density and $\rho$ (discrete marker color)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_50_0.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_50_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="Create-scatter-plots-with-seaborn">
<h2>Create scatter plots with <code class="docutils literal notranslate"><span class="pre">seaborn</span></code><a class="headerlink" href="#Create-scatter-plots-with-seaborn" title="Permalink to this headline">¶</a></h2>
<p>An alternative to using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> directly is to use <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>, a wrapper of <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> that aims to make it easier to create professional-looking plots.</p>
<p>For example, here is the <em>E vs rho</em> plot grouped by ‘Base’ in <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>. Note that the plot itself is defined in one line, and we can specify DataFrame columns to use for the marker <code class="docutils literal notranslate"><span class="pre">hue</span></code> and <code class="docutils literal notranslate"><span class="pre">style</span></code> with no additional steps. The legend is created automatically.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_processed</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Density&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;Base&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;Base&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">density_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ym_label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;E vs Density grouped by Base (using seaborn)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 1.0, &#39;E vs Density grouped by Base (using seaborn)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_53_1.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_53_1.png" />
</div>
</div>
<div class="section" id="Plotting-in-n-dimensions-(pair-plots)">
<h3>Plotting in <em>n</em> dimensions (pair plots)<a class="headerlink" href="#Plotting-in-n-dimensions-(pair-plots)" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> package doesn’t expose <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>’s 3D scatter plotting functionality. However, it can produce stacked (paired) plots of any dimensionality as required. The example below shows a comparison across 4 continuous dimensions.</p>
<p>To avoid having to set the label of each axis, we’ve created a new DataFrame with the desired axis labels as column names. The labelling is then done automatically.</p>
<p>Although <code class="docutils literal notranslate"><span class="pre">sns.pairplot</span></code> doesn’t have a <code class="docutils literal notranslate"><span class="pre">style</span></code> argument, you can provide a list of markers instead.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ftu_unit</span> <span class="o">=</span> <span class="n">units</span><span class="p">[</span><span class="s1">&#39;Tensile strength&#39;</span><span class="p">]</span>
<span class="n">ftu_label</span> <span class="o">=</span> <span class="sa">rf</span><span class="s1">&#39;$F_</span><span class="se">{{</span><span class="s1">tu</span><span class="se">}}</span><span class="s1">$ / $</span><span class="si">{</span><span class="n">ftu_unit</span><span class="si">}</span><span class="s1">$&#39;</span>

<span class="n">column_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Density&#39;</span><span class="p">:</span> <span class="n">density_label</span><span class="p">,</span>
                  <span class="s2">&quot;Young&#39;s modulus&quot;</span><span class="p">:</span> <span class="n">ym_label</span><span class="p">,</span>
                  <span class="s1">&#39;Tensile strength&#39;</span><span class="p">:</span> <span class="n">ftu_label</span><span class="p">,</span>
                  <span class="s1">&#39;Electrical resistivity&#39;</span><span class="p">:</span> <span class="n">rho_label</span><span class="p">}</span>
<span class="n">df_pairplot</span> <span class="o">=</span> <span class="n">df_processed</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">column_mapping</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="nb">vars</span><span class="o">=</span><span class="p">[</span><span class="n">density_label</span><span class="p">,</span> <span class="n">ym_label</span><span class="p">,</span> <span class="n">ftu_label</span><span class="p">,</span> <span class="n">rho_label</span><span class="p">],</span>
                 <span class="n">data</span><span class="o">=</span><span class="n">df_pairplot</span><span class="p">,</span>
                 <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;Base&quot;</span><span class="p">,</span>
                 <span class="n">markers</span><span class="o">=</span><span class="n">markers</span><span class="p">,</span>
                 <span class="n">diag_kind</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">axes</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
        <span class="n">g</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Pair plot comparing Density, E, $F_{{</span><span class="si">{tu}</span><span class="s1">}}$ and $\rho$, grouped by Base&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.03</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Figure size 750x500 with 0 Axes&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/samples_data-analytics_00_Create_scatter_plots_56_1.png" src="../../_images/samples_data-analytics_00_Create_scatter_plots_56_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="01_Compare_datasets_graphically.html" class="btn btn-neutral float-right" title="Compare datasets graphically" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../../data_analytics.html" class="btn btn-neutral float-left" title="Data Analytics Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; <a href="../../copyright.html">Copyright</a> 2021 ANSYS, Inc. or its affiliated companies. All rights reserved.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>