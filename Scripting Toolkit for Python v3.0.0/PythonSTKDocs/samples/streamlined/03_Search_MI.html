<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Search Granta MI &mdash; MI Scripting Toolkit for Python 3.0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/Materials.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Fetch Attribute Data in Bulk" href="04_Fetch_Attribute_Data_in_Bulk.html" />
    <link rel="prev" title="Browse Granta MI" href="02_Browse_MI.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/Materials-STK.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">What’s new in Version 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrading.html">Upgrading from earlier versions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../stream_example.html">Streamlined API Example Notebooks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_Get_Started.html">Get Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_Get_Attributes.html">Get Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_Browse_MI.html">Browse Granta MI</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Search Granta MI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Connect-to-MI">Connect to MI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Simple-text-search">Simple text search</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Record-name-search">Record name search</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Criteria-searches">Criteria searches</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Text-searches">Text searches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Numeric-searches">Numeric searches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Date-searches">Date searches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Boolean-searches">Boolean searches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Combining-criteria">Combining criteria</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Searching-for-the-existence-of-data">Searching for the existence of data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Searching-for-tabular-data">Searching for tabular data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Searching-with-pseudoattributes">Searching with pseudoattributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="04_Fetch_Attribute_Data_in_Bulk.html">Fetch Attribute Data in Bulk</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_Edit_Data.html">Edit Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_Create_Records.html">Create Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_Import_Functional_Data.html">Import Functional Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_Create_Functional_Data.html">Create Functional Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_Edit_Tabular_Data.html">Edit Tabular Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_Edit_Pseudo-attributes.html">Edit Pseudo-attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="11_Add_Files_Pictures_and_Hyperlinks.html">Add Files, Pictures, and Hyperlinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="12_Add_Point_Range_Data.html">Add Point and Range data</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_Add_Date_Integer_and_Logical_Data.html">Add Date, Integer and Logical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="14_Create_and_Edit_Tabular_Data.html">Create and Edit Tabular Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="15_Use_Exporters_for_FEA_Export.html">Export data for FEA</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_Link_Records.html">Link Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="17_Layouts.html">Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="18_Async_Job_Queue.html">Asynchronous Job Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="19_Streamlined_API_performance_tuning.html">Streamlined API performance tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="20_Using_OIDC_With_the_STK.html">Using OpenID Connect with MI Scripting Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="21_Logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="22_Storing_credentials_securely.html">Storing Credentials Securely</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stream_api.html">Streamlined API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation_example.html">Foundation API Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GRANTA_MIScriptingToolkit.html">Foundation API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_analytics.html">Data Analytics Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../log_files.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright and Trademark Information</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MI Scripting Toolkit for Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../stream_example.html">Streamlined API Example Notebooks</a> &raquo;</li>
      <li>Search Granta MI</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<a href="../../samples\streamlined\03_Search_MI.ipynb" id='example' type="application/octet-stream" download>
View the .ipynb file.
</a><hr class="docutils" />
<section id="Search-Granta-MI">
<h1>Search Granta MI<a class="headerlink" href="#Search-Granta-MI" title="Permalink to this headline"></a></h1>
<p>Use the three available search methods to search for records.</p>
<p>All three methods can be performed at either the Session, Database, or Table levels:</p>
<ul class="simple">
<li><p>Simple text search</p></li>
<li><p>Record name search</p></li>
<li><p>Criteria search</p></li>
</ul>
<section id="Connect-to-MI">
<h2>Connect to MI<a class="headerlink" href="#Connect-to-MI" title="Permalink to this headline"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">GRANTA_MIScriptingToolkit</span> <span class="kn">import</span> <span class="n">granta</span> <span class="k">as</span> <span class="n">mpy</span>
<span class="n">mi</span> <span class="o">=</span> <span class="n">mpy</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;http://localhost/mi_servicelayer&#39;</span><span class="p">,</span> <span class="n">autologon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">mi</span><span class="o">.</span><span class="n">get_db</span><span class="p">(</span><span class="n">db_key</span><span class="o">=</span><span class="s1">&#39;MI_Training&#39;</span><span class="p">)</span>
<span class="n">material_universe</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;MaterialUniverse&#39;</span><span class="p">,</span> <span class="n">unit_system</span><span class="o">=</span><span class="s1">&#39;UK Imperial&#39;</span><span class="p">,</span> <span class="n">absolute_temperatures</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Simple-text-search">
<h2>Simple text search<a class="headerlink" href="#Simple-text-search" title="Permalink to this headline"></a></h2>
<p>Search for records which contain the string anywhere in the record.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">normalized_material_records</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_by_text</span><span class="p">(</span><span class="s1">&#39;Normalized&#39;</span><span class="p">)</span>
<span class="n">normalized_material_records</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Low alloy steel, AISI 4130, air melted, normalized&gt;]
</pre></div></div>
</div>
</section>
<section id="Record-name-search">
<h2>Record name search<a class="headerlink" href="#Record-name-search" title="Permalink to this headline"></a></h2>
<p>Search for records by name. Only exact matches to the long or short name of a record are returned.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">sodium_barium_glass_records</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_by_name</span><span class="p">(</span><span class="s1">&#39;Soda barium glass&#39;</span><span class="p">)</span>
<span class="n">sodium_barium_glass_records</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Soda barium glass&gt;]
</pre></div></div>
</div>
</section>
<section id="Criteria-searches">
<h2>Criteria searches<a class="headerlink" href="#Criteria-searches" title="Permalink to this headline"></a></h2>
<p>Search criteria are constructed from <strong>AttributeDefinition</strong> objects using the <code class="docutils literal notranslate"><span class="pre">search_criterion()</span></code> method.</p>
<p>This search type is typically used in 7 different scenarios:</p>
<ul class="simple">
<li><p>Text searches</p></li>
<li><p>Numeric searches</p></li>
<li><p>Date searches</p></li>
<li><p>Boolean searches</p></li>
<li><p>Tabular searches</p></li>
<li><p>Searching for the presence of any value</p></li>
<li><p>Combining search criteria</p></li>
</ul>
<section id="Text-searches">
<h3>Text searches<a class="headerlink" href="#Text-searches" title="Permalink to this headline"></a></h3>
<p>In these examples, the criteria are that the attribute <em>Base</em> in the <em>MaterialUniverse</em> table:</p>
<ul class="simple">
<li><p>Contains iron (<code class="docutils literal notranslate"><span class="pre">contains=</span></code>)</p></li>
<li><p>Does not contain iron (<code class="docutils literal notranslate"><span class="pre">does_not_contain=</span></code>)</p></li>
<li><p>Contains one of three specified metals (<code class="docutils literal notranslate"><span class="pre">contains_any=</span></code>)</p></li>
<li><p>Contains all three specified metals (<code class="docutils literal notranslate"><span class="pre">contains_all=</span></code>)</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_attribute</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;Base&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>All materials that contain Iron:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_contains_iron</span> <span class="o">=</span> <span class="n">base_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">contains</span><span class="o">=</span><span class="s1">&#39;Fe (Iron)&#39;</span><span class="p">)</span>
<span class="n">base_contains_iron</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;SearchCriterion: Base - CONTAINS - &#39;Fe (Iron)&#39;&gt;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">iron_records</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">base_contains_iron</span><span class="p">])</span>
<span class="n">iron_records</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Low alloy steel, AISI 4130, air melted, quenched &amp; tempered&gt;,
 &lt;Record long name:250 maraging steel, maraged at 900F&gt;,
 &lt;Record long name:Low alloy steel, AISI 4130, air melted, normalized&gt;]
</pre></div></div>
</div>
<p>All materials that <strong>do not</strong> contain Iron:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_does_not_contain_iron</span> <span class="o">=</span> <span class="n">base_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">does_not_contain</span><span class="o">=</span><span class="s1">&#39;Fe (Iron)&#39;</span><span class="p">)</span>
<span class="n">iron_free_records</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">base_does_not_contain_iron</span><span class="p">])</span>
<span class="n">iron_free_records</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Ceramics and glasses&gt;,
 &lt;Record long name:Soda barium glass&gt;,
 &lt;Record long name:Aluminum, 7075, wrought, T73&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, aged&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, annealed, generic&gt;]
</pre></div></div>
</div>
<p>All materials that contain <strong>one of</strong> Iron, Aluminum <strong>or</strong> Titanium:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_contains_any_metal</span> <span class="o">=</span> <span class="n">base_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">contains_any</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fe (Iron)&#39;</span><span class="p">,</span> <span class="s1">&#39;Al (Aluminum)&#39;</span><span class="p">,</span> <span class="s1">&#39;Ti (Titanium)&#39;</span><span class="p">])</span>
<span class="n">base_any_metal_records</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">base_contains_any_metal</span><span class="p">])</span>
<span class="n">base_any_metal_records</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Low alloy steel, AISI 4130, air melted, quenched &amp; tempered&gt;,
 &lt;Record long name:Aluminum, 7075, wrought, T73&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, aged&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, annealed, generic&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, solution treated &amp; aged&gt;,
 &lt;Record long name:250 maraging steel, maraged at 900F&gt;,
 &lt;Record long name:Low alloy steel, AISI 4130, air melted, normalized&gt;,
 &lt;Record long name:Aluminum, 7075, wrought, T6&gt;]
</pre></div></div>
</div>
<p>All materials that contain Iron, Aluminum <strong>and</strong> Titanium:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_contains_all_metals</span> <span class="o">=</span> <span class="n">base_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">contains_all</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fe (Iron)&#39;</span><span class="p">,</span> <span class="s1">&#39;Al (Aluminum)&#39;</span><span class="p">,</span> <span class="s1">&#39;Ti (Titanium)&#39;</span><span class="p">])</span>
<span class="n">base_all_metals_records</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">base_contains_all_metals</span><span class="p">])</span>
<span class="n">base_all_metals_records</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[]
</pre></div></div>
</div>
</section>
<section id="Numeric-searches">
<h3>Numeric searches<a class="headerlink" href="#Numeric-searches" title="Permalink to this headline"></a></h3>
<p>In this example, the criteria are that the attribute <em>Yield Strength, L</em> in the <em>Design Data</em> table is either greater than or less than 145 ksi.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">design_data</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;Design Data&#39;</span><span class="p">,</span> <span class="n">unit_system</span><span class="o">=</span><span class="s1">&#39;UK Imperial&#39;</span><span class="p">,</span> <span class="n">absolute_temperatures</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">yield_strength_l_attribute</span> <span class="o">=</span> <span class="n">design_data</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;Yield Strength, L&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>Materials with a <em>Yield Strength</em> <strong>less than</strong> 145 ksi:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">yield_strength_l_attribute</span><span class="o">.</span><span class="n">unit</span>
<span class="n">low_yield_strength</span> <span class="o">=</span> <span class="n">yield_strength_l_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">less_than</span><span class="o">=</span><span class="mf">145.0</span><span class="p">)</span>
<span class="n">low_yield_strength_records</span> <span class="o">=</span> <span class="n">design_data</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">low_yield_strength</span><span class="p">])</span>
<span class="n">low_yield_strength_records</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Titanium alloys, Ti-6Al-4V&gt;]
</pre></div></div>
</div>
<p>Materials with a <em>Yield Strength</em> <strong>greater than</strong> 145 ksi:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">high_yield_strength</span> <span class="o">=</span> <span class="n">yield_strength_l_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">greater_than</span><span class="o">=</span><span class="mf">145.0</span><span class="p">)</span>
<span class="n">high_yield_strength_records</span> <span class="o">=</span> <span class="n">design_data</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">high_yield_strength</span><span class="p">])</span>
<span class="n">high_yield_strength_records</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Nickel alloys, Inconel 718, Forging&gt;,
 &lt;Record long name:250 Grade Maraging, Maraged at 900F, Plate, Thickness: 0.1875 to 0.251 in, AMS 6520, S basis&gt;]
</pre></div></div>
</div>
</section>
<section id="Date-searches">
<h3>Date searches<a class="headerlink" href="#Date-searches" title="Permalink to this headline"></a></h3>
<p>In this example, the search is for records in the <em>Legislation and Lists</em> table with an <em>Effective Date</em> between 1970 and 2000.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">legislations</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;Legislations and Lists&#39;</span><span class="p">,</span> <span class="n">unit_system</span><span class="o">=</span><span class="s1">&#39;UK Imperial&#39;</span><span class="p">,</span> <span class="n">absolute_temperatures</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">effective_date_attribute</span> <span class="o">=</span> <span class="n">legislations</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;Effective date&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">effective_date_1970_2000</span> <span class="o">=</span> <span class="n">effective_date_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">between_dates</span><span class="o">=</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">))</span>
<span class="n">legislations_1970_2000</span> <span class="o">=</span> <span class="n">legislations</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">effective_date_1970_2000</span><span class="p">])</span>
<span class="n">legislations_1970_2000</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:TSCA Section 6&gt;]
</pre></div></div>
</div>
</section>
<section id="Boolean-searches">
<h3>Boolean searches<a class="headerlink" href="#Boolean-searches" title="Permalink to this headline"></a></h3>
<p>Search for records with a certain Boolean value. In this example, the search is for all materials where RoHS compliant grades are available.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">RoHS_grades_attribute</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;RoHS (EU) compliant grades?&#39;</span><span class="p">]</span>

<span class="n">RoHS_grades_true</span> <span class="o">=</span> <span class="n">RoHS_grades_attribute</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">contains</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">materials_with_rohs_grades</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">RoHS_grades_true</span><span class="p">])</span>
<span class="n">materials_with_rohs_grades</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Soda barium glass&gt;,
 &lt;Record long name:Low alloy steel, AISI 4130, air melted, quenched &amp; tempered&gt;,
 &lt;Record long name:Aluminum, 7075, wrought, T73&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, aged&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, annealed, generic&gt;]
</pre></div></div>
</div>
</section>
<section id="Combining-criteria">
<h3>Combining criteria<a class="headerlink" href="#Combining-criteria" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">search_for_records_where</span></code> method takes a list of criteria, allowing criteria to be combined as long as they relate to attributes in the same table.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">metals_with_rohs_grades</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">base_contains_any_metal</span><span class="p">,</span> <span class="n">RoHS_grades_true</span><span class="p">])</span>
<span class="n">metals_with_rohs_grades</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Low alloy steel, AISI 4130, air melted, quenched &amp; tempered&gt;,
 &lt;Record long name:Aluminum, 7075, wrought, T73&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, aged&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, annealed, generic&gt;,
 &lt;Record long name:250 maraging steel, maraged at 900F&gt;,
 &lt;Record long name:Low alloy steel, AISI 4130, air melted, normalized&gt;,
 &lt;Record long name:Titanium, alpha-beta alloy, Ti-6Al-4V, solution treated &amp; aged&gt;,
 &lt;Record long name:Aluminum, 7075, wrought, T6&gt;]
</pre></div></div>
</div>
</section>
<section id="Searching-for-the-existence-of-data">
<h3>Searching for the existence of data<a class="headerlink" href="#Searching-for-the-existence-of-data" title="Permalink to this headline"></a></h3>
<p>We can also define criteria that search for records which have <em>any</em> value for the specified attribute, with no restriction on the data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">restricted_substances</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;Restricted Substances&#39;</span><span class="p">,</span> <span class="n">unit_system</span><span class="o">=</span><span class="s1">&#39;UK Imperial&#39;</span><span class="p">,</span> <span class="n">absolute_temperatures</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">SVHC_criterion</span> <span class="o">=</span> <span class="n">restricted_substances</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;SVHC criterion&#39;</span><span class="p">]</span>

<span class="n">svhc_exists</span> <span class="o">=</span> <span class="n">SVHC_criterion</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">exists</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">svhc_materials</span> <span class="o">=</span> <span class="n">restricted_substances</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">svhc_exists</span><span class="p">])</span>
<span class="n">svhc_materials</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:Dibutyl phthalate [84-74-2]&gt;,
 &lt;Record long name:Bis (2-ethyl(hexyl)phthalate) (DEHP) [117-81-7]&gt;,
 &lt;Record long name:Alkanes, C10-13, chloro;  (Short chain chlorinated paraffins ) [85535-84-8]&gt;,
 &lt;Record long name:Potassium chromate [7789-00-6]&gt;,
 &lt;Record long name:Arsenic trioxide [1327-53-3]&gt;]
</pre></div></div>
</div>
</section>
<section id="Searching-for-tabular-data">
<h3>Searching for tabular data<a class="headerlink" href="#Searching-for-tabular-data" title="Permalink to this headline"></a></h3>
<p>Searching tabular data works in exactly the same way as searching attributes, except the criteria require an additional argument to specify the applicable column. This example finds all records in the <em>MaterialUniverse</em> table that contain at least one tabular row, and where both the following are true:</p>
<ul class="simple">
<li><p>The ‘Substance name’ column contains the text value ‘Alkanes’</p></li>
<li><p>The ‘Amount’ column contains a value greater than 10.0</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">declaration</span> <span class="o">=</span> <span class="n">material_universe</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;Restricted substances that may be associated with this material&#39;</span><span class="p">]</span>

<span class="n">substance_contains_alkanes</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">contains</span><span class="o">=</span><span class="s1">&#39;Alkanes&#39;</span><span class="p">,</span> <span class="n">in_column</span><span class="o">=</span><span class="s1">&#39;Substance name&#39;</span><span class="p">)</span>
<span class="n">amount_gt_10</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">search_criterion</span><span class="p">(</span><span class="n">greater_than</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">in_column</span><span class="o">=</span><span class="s1">&#39;Amount&#39;</span><span class="p">)</span>

<span class="n">affected_materials</span> <span class="o">=</span> <span class="n">restricted_substances</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">substance_contains_alkanes</span><span class="p">,</span> <span class="n">amount_gt_10</span><span class="p">])</span>
<span class="n">affected_materials</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&lt;Record long name:PVC-elastomer (Shore A35)&gt;,
 &lt;Record long name:PVC-elastomer (Shore A75, flame retarded)&gt;,
 &lt;Record long name:PVC-elastomer (Shore A55)&gt;,
 &lt;Record long name:PVC-elastomer (Shore A75)&gt;]
</pre></div></div>
</div>
<p>Print the results of the tabular search.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:^55.55}</span><span class="s1"> | </span><span class="si">{:^55.55}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Record Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Short Name&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">113</span><span class="p">)</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">affected_materials</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:^55.55}</span><span class="s1"> | </span><span class="si">{:^55.55}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">r</span><span class="o">.</span><span class="n">short_name</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      Record Name                       |                       Short Name
-----------------------------------------------------------------------------------------------------------------
               PVC-elastomer (Shore A35)                |                        Shore A35
       PVC-elastomer (Shore A75, flame retarded)        |                Shore A75, flame retarded
               PVC-elastomer (Shore A55)                |                        Shore A55
               PVC-elastomer (Shore A75)                |                        Shore A75
</pre></div></div>
</div>
</section>
<section id="Searching-with-pseudoattributes">
<h3>Searching with pseudoattributes<a class="headerlink" href="#Searching-with-pseudoattributes" title="Permalink to this headline"></a></h3>
<p>Some pseudoattributes can be used as search criteria, they behave as ordinary attributes and permit the same criteria to be used. By default they are not limited to a single table. This example searches for tensile test results for <strong>MTS</strong> samples (High Alloy Steels) that were last modified in the 24 hours before the 29th of April 2021 at 10:43.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tensile_test_table</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s2">&quot;Tensile Test Data&quot;</span><span class="p">)</span>

<span class="n">name_criterion</span> <span class="o">=</span> <span class="n">mpy</span><span class="o">.</span><span class="n">SearchCriterion</span><span class="p">(</span><span class="n">mpy</span><span class="o">.</span><span class="n">PseudoAttributeDefinition</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="s2">&quot;CONTAINS&quot;</span><span class="p">,</span> <span class="s2">&quot;MTS&quot;</span><span class="p">)</span>

<span class="n">start_datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">28</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">44</span><span class="p">)</span>
<span class="n">end_datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">29</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">43</span><span class="p">)</span>
<span class="n">modified_criterion</span> <span class="o">=</span> <span class="n">mpy</span><span class="o">.</span><span class="n">SearchCriterion</span><span class="p">(</span>
    <span class="n">mpy</span><span class="o">.</span><span class="n">PseudoAttributeDefinition</span><span class="p">(</span><span class="s2">&quot;modifiedDate&quot;</span><span class="p">),</span> <span class="s2">&quot;BETWEEN&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">start_datetime</span><span class="p">,</span> <span class="n">end_datetime</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">modified_records</span> <span class="o">=</span> <span class="n">tensile_test_table</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">name_criterion</span><span class="p">,</span> <span class="n">modified_criterion</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:^55.55}</span><span class="s1"> | </span><span class="si">{:^55.55}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Record Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Last Modified Date&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">113</span><span class="p">)</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">modified_records</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:^55.55}</span><span class="s1"> | </span><span class="si">{:^55.55}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">r</span><span class="o">.</span><span class="n">pseudo_attributes</span><span class="p">[</span><span class="s2">&quot;modifiedDate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y/%m/</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      Record Name                       |                   Last Modified Date
-----------------------------------------------------------------------------------------------------------------
                      MTS-615772                        |                   2021/04/28 09:44:02
                      MTS-615732                        |                   2021/04/28 09:44:39
                      MTS-615742                        |                   2021/04/28 09:44:31
                      MTS-615752                        |                   2021/04/28 09:44:22
                      MTS-615762                        |                   2021/04/28 09:44:13
</pre></div></div>
</div>
<p>If your search matches records on more than one table then all will be returned. If you need to limit your search to a single table then you will need to modify the <strong>PseudoAttributeDefinition</strong> to include a <strong>PartialTableReference</strong> within the <strong>SearchCriterion</strong>. The next example searches for all records in the <strong>Material Universe</strong> table modified in 2021.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">GRANTA_MIScriptingToolkit</span> <span class="k">as</span> <span class="nn">gdl</span>

<span class="n">partial_table_reference</span> <span class="o">=</span> <span class="n">gdl</span><span class="o">.</span><span class="n">PartialTableReference</span><span class="p">(</span><span class="n">tableName</span><span class="o">=</span><span class="s2">&quot;MaterialUniverse&quot;</span><span class="p">)</span>

<span class="n">start_datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">end_datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">31</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">59</span><span class="p">)</span>

<span class="n">modified_criterion</span> <span class="o">=</span> <span class="n">mpy</span><span class="o">.</span><span class="n">SearchCriterion</span><span class="p">(</span><span class="n">mpy</span><span class="o">.</span><span class="n">PseudoAttributeDefinition</span><span class="p">(</span><span class="s2">&quot;modifiedDate&quot;</span><span class="p">),</span> <span class="s2">&quot;BETWEEN&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">start_datetime</span><span class="p">,</span> <span class="n">end_datetime</span><span class="p">))</span>
<span class="n">modified_criterion</span><span class="o">.</span><span class="n">attribute</span><span class="o">.</span><span class="n">_attribute_ref</span><span class="o">.</span><span class="n">partialTableReference</span> <span class="o">=</span> <span class="n">partial_table_reference</span>

<span class="n">modified_records</span> <span class="o">=</span> <span class="n">tensile_test_table</span><span class="o">.</span><span class="n">search_for_records_where</span><span class="p">([</span><span class="n">modified_criterion</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:^55.55}</span><span class="s1"> | </span><span class="si">{:^55.55}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Record Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Last Modified Date&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">113</span><span class="p">)</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">modified_records</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:^55.55}</span><span class="s1"> | </span><span class="si">{:^55.55}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">r</span><span class="o">.</span><span class="n">pseudo_attributes</span><span class="p">[</span><span class="s2">&quot;modifiedDate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y/%m/</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      Record Name                       |                   Last Modified Date
-----------------------------------------------------------------------------------------------------------------
                       Carbides                         |                   2021/06/18 11:46:25
                  Technical Ceramics                    |                   2021/06/18 11:45:59
                   Tungsten carbide                     |                   2021/07/19 15:26:03
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="02_Browse_MI.html" class="btn btn-neutral float-left" title="Browse Granta MI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="04_Fetch_Attribute_Data_in_Bulk.html" class="btn btn-neutral float-right" title="Fetch Attribute Data in Bulk" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2022 ANSYS, Inc. or its affiliated companies. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>